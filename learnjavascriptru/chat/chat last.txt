Sergey Zelenov [6:44 PM]
@tyrweq добрый день!
1. да, вы абсолютно правы, эта запись тут лишняя, keys используются при подписании cookies, но мы сами подпись отключаем.
2. используется крайне редко, я бы сказал никогда. в каком случае это может понадобиться - если вы хотите в куках хранить какую-то информацию, которую пользователь не должен иметь возможности изменить


----- June 2nd -----
Sergey Zelenov [8:48 PM]
всем привет!
подключайтесь ,пожалуйста, к видео

Sergei Novikov [8:54 PM]
Фух. Успел все таки закончить дз до занятия. Даже проверил (со своей почтой).
Есть пару вопросов (возможно глупых, но я что-то ими задался):
1) В примере работы модуля пасспорт для экспресса на гитхабе: https://github.com/passport/express-4.x-local-example/blob/master/server.js
модуль паспорта подключается  подобно мангусу. То есть он подключается с запуском приложения и сразу же на него навешиваются стратегия, serializeUser и deserializeUser. То есть в данном примере они навешиваются один раз при старте приложения.
Теперь собственно вопрос:
*правильно ли я понял, что в  примерах с наших занятий они тоже навешиваются один раз, но при первом запросе? Так как сам модуль паспорт (с методами и стратегиями) подгрузится через middleware 09-passportInitialize при первом запросе, а уже при следующих будет браться из памяти?*
GitHub
passport/express-4.x-local-example
express-4.x-local-example - Express 4.x app using Passport for authentication with username and password.


Сергей Лунев [8:58 PM]
Добрый вечер.

Sergey Zelenov [8:58 PM]
нет, сам вызов passport.initialize() произойдет при старте приложения

[8:58]
это аналогично такому коду:
`button.addEventListener('click', handler())` (edited)

[8:59]
вот хендлер - он ведь сразу вызовется, а не при наступлении события

[9:00]
все require резолвятся до запуска кода

[9:00]
в том числе и наш паспорт, код инициализации в котором синхронный фактически

Sergei Novikov [9:03 PM]
соц сеть я не сделал. не успел

[9:05]
ок

[9:05]
я просто ваш скопировал

[9:06]
а он у вас был в asunc

[9:07]
а надо было индекс

[9:07]
!

[9:07]
забыл

[9:08]
+ еще добавил проверку в локал стретаджи

[9:08]
Ну что пользователь confirmed

Konstantin Vytyagov [9:10 PM]
у меня есть вопрос немного косвенный: в какой момент в нашем приложении появляется `ctx.locals`, в котором есть свойство `user` с документом текущего пользователя?

Sergei Novikov [9:12 PM]
я не сделал но вопросы будут

[9:12]
попозже

[9:16]
ну наверное сохранять надо логи

[9:16]
где-то отдельно

[9:16]
+ нужно более детально откуда логи пришли

[9:16]
ну чтобы искать удобно было

Denni Adam [9:18 PM]
можно в базу писать

[9:19]
Что значит "свичнуть базу"?

Vladimir Deminenko [9:19 PM]
переключиться

Sergei Novikov [9:23 PM]
вы какой используете чаще?

Vladimir Deminenko [9:29 PM]
нужно устанавливать эластик?

Sergei Novikov [9:29 PM]
настройка логов. Но я думаю сейчас будет?

[9:30]
Ну там вроде транспорты надо какие-то

[9:30]
настраивать

[9:30]
ок

Sergey Zelenov [9:31 PM]
http://learn.javascript.ru/websockets

Anton Podgornyj [9:40 PM]
использовал)

Sergei Novikov [9:40 PM]
а аутентификация в них как идет? отдельно?

Sergei Novikov [9:46 PM]
можно еще раз, извиняюсь

[9:48]
то есть сама ф-ия клиенту с сервера передается

[9:48]
?

[9:49]
и на клиенте запускается на событие?

[9:51]
а цифры 2 - 3 что означают?

[9:52]
ок

[9:56]
а convert?

[9:57]
ок

[10:00]
socket.request в самом начале - это ссылка на http-request?

[10:01]
а socketId откуда берется?

[10:01]
то есть если у нас несколько вкладок, то все будут разное id иметь?

[10:03]
то есть jwt лучше с socket?

[10:03]
использовать?

[10:04]
логика нормальная

[10:04]
вроде понятно

Anton Podgornyj [10:04 PM]
вроде норм все

Vladimir Deminenko [10:06 PM]
*пример*: по запросу пользователя, на сервере запускается продолжительный процесс обновления базы данных
*вопрос*: правильно ли будет использовать сокет для информирования пользователя о стадии процесса, например - "40%", "41%", ..., "100%"?

Anton Podgornyj [10:07 PM]
ну мы в приложеннии используем...платежном...когда пришел платеж, то информируем попапом

[10:07]
через сокеты

Sergei Novikov [10:08 PM]
и ему тоже шлем?

Vladimir Deminenko [10:10 PM]
где-то хранится список?

Sergei Novikov [10:10 PM]
связать может их как-то?

Sergey Arefyev [10:14 PM]
а rabbit не лучше будет для такого случая?

[10:15]
там тоже есть механизм подписок

Sergei Novikov [10:17 PM]
то есть у вас сейчас два сервера запущены локально?

[10:17]
просто я пропустил

Denys Lymarenko [10:18 PM]
две базы данных скорей

Denni Adam [10:21 PM]
все не понятно ))

Vladimir Deminenko [10:24 PM]
т.е. redis используется в качестве посредника?

Sergei Novikov [10:26 PM]
а подключается сервер к рэдису на подобии монго (как подключение к базе монго?)

[10:26]
а можно у вас в коде показать где мы к рэдису подключились

Denni Adam [10:27 PM]
теория стала понятнее, а вот реализация - пока не очень.

Sergei Novikov [10:27 PM]
то есть это сервер через io подключился?

[10:28]
я имею в виду сам сервер к redis как подключается, извиняюсь?

[10:28]
или он не подключается?

Vladimir Deminenko [10:28 PM]
прежде, чем использовать redis в облаках, например, в heroku, нужно убедиться, что на сервере он установлен?

Sergei Novikov [10:28 PM]
но ведь это io

[10:28]
да. А сервер http не подключается?

Vladimir Deminenko [10:29 PM]
хорошо ))

Sergei Novikov [10:29 PM]
а где настройки к подключению к рэдису. Внутри?

[10:30]
а рэдис ставится на подобии монго на локальный компьютер или сервер?

Sergey Zelenov [10:31 PM]
https://redis.io/download

Sergei Novikov [10:31 PM]
он вроде не ставится на виндовс

Sergey Arefyev [10:31 PM]
на windows проблем нет с reddis

Vladimir Deminenko [10:32 PM]
на Windows я поставил - он ставится, как сервис

Sergei Novikov [10:32 PM]
ок

Sergey Zelenov [10:32 PM]
https://redislabs.com/
Redis Labs
Redis Labs - Home of Open Source and Enterprise Redis | Redis Labs
Redis Labs, home of open source Redis, provides highly available and seamlessly scalable Redis Enterprise. Try our service or software for free today!

Sergei Novikov [10:33 PM]
немного

Denni Adam [10:33 PM]
надо руками пробовать

Denys Lymarenko [10:34 PM]
а можно в кратце рассказалть логику, как , к примеру, при добалении нового юзера в базу, всем клиентам рассылались обновление

Sergei Novikov [10:40 PM]
Подготовить такие вопросы?

[10:40]
ок

[10:41]
Есть вопрос но он по прошлым темам. Я его напишу

[10:41]
попозже. Но могу и сейчас

Сергей Лунев [10:41 PM]
Спасибо.

Vladimir Deminenko [10:41 PM]
спасибо

Sergei Novikov [10:41 PM]
спасибо

Anton Podgornyj [10:41 PM]
Спасибо

[10:41]
пока


----- June 4th -----
Sergei Novikov [5:48 PM]
@sergeyzelenov  Добрый день!
Есть вопрос по поводу flash сообщений и сохранения их в сессии. Возможно сам ответ очень простой и я не могу увидеть очевидного. Заранее извиняюсь, если так.

В своей папке в dropbox (7 урок). Я выложил директорию *passport-flash-validation-error-question*. Сам вопрос касается файлов в ней:
./routes/signup.js;
./middlewares/05-errors.js;
./middlewares/11-flash.js;
./middlewares/00-wraperFlash.js; - Этот файл не столь важен(я сделал его просто для проверки, того, что причина не сохранения сообщения в сессии не в коде в конце файла 11-flash.js)

Теперь сам вопрос:
*если вызывать ctx.flash('error', 'ValidationError') в файле (./routes/signup.js), то при редиректе messages передастся. А вот если вызвать ctx.flash('error', 'ValidationError') в миддлвэре 05-errors (при ошибке), то messages записывается в сессию (это можно увидеть в логе), но пропадает при редиректе (то есть не сохраняется). И я что-то не пойму почему так происходит (возможно и в правду ответ очевиден, но что-то просмотрев код я его не нашел). То есть по логике все должно работать и в том и в другом случае, но по какой-то причине через 05-errors сообщения в сессию не сохраняются*
Заранее спасибо за ответ. (edited)

Vladimir Deminenko [7:04 PM]
Возможно, я что-то пропустил - нигде не могу найти инфо, для чего нужен koa-flash, есть только примеры использования.
Так, для чего же он нужен?

Sergei Novikov [9:07 PM]
@vladimir_deminenko Вроде как koa-flash это уже готовый модуль для реализации сохранения в сессии флэш сообщений. В наших примерах (с занятий) используется свой собственный миддлвэр 11-flash.js. Который это реализует.
Пример использования флэш:
Попробуйте в браузере зайти на сайт задачи с 6 урока (паспорт) и ввести не правильный логин или пароль при log in. Вас перенаправит на титульную страницу и выведется сообщение "Нет такого пользователя или пароль неверен". Это сообщение и есть тот самый flash. Оно с помощью паспорта было записано в сессию, а после перенаправления пользователя на главную взято из сессии кодом middleware 11-flash.js.
Более подробно Сергей Зеленов рассказывает про это примерно на отметке 1:16:00 видео 7 урока.
Ну вообщем как-то так я это понимаю.
+ еще в миддлвэре 04-templates мы передаем функцию flash() в наши шаблоны через ctx.locals. И в шаблоне messages.pug у нас есть обращение к flash. Оно как раз и выводит данные сообщения на стороне клиента. (edited)

Vladimir Deminenko [10:33 PM]
Сергей, спасибо.
Обязательно посмотрю.


----- June 5th -----
Sergey Zelenov [3:07 PM]
@tyrweq добрый день! а как вы опреелили, что пропадает? вы его выводите где-то, и он не выводится? (edited)

Sergei Novikov [3:48 PM]
@sergeyzelenov Добрый день!
Я проверил в браузере 2 варианта (через ./routes/signup.js и через 05-errors). Также я поставил вывод в лог ctx.session.messages в начале middleware 11-flash.js. То есть при редиректе в ./routes/signup.js в лог выводит ctx.session.messages (уже после редиректа), а при редиректе в 05-errors выводит undefined. Хотя перед самим редиректом в логе в файле 05-errors правильно выводит ctx.session.messages (который сам миддлвэр 05-errors и установил).
Вы можете проверить это запустив index.js в папке  passport-flash-validation-error-question (моя папка dropbox 7 урок). Там оба варианта есть. Просто вариант через ./routes/signup.js закомментирован, если его раскомментировать, то flash будет появляться при редиректе. (edited)

Sergei Novikov [4:01 PM]
@sergeyzelenov Если коротко:
в 05-errors ловится Validation error, выполняется ctx.flash('error', 'ValidationError'), делается редирект + в лог этого файла в конце выводит ctx.session.messages.
Однако сразу после редиректа в логе в самом начале 11-flash.js  выводит, что ctx.session.messages == undefined.
При этом если вызывать ctx.flash('error', 'ValidationError') и делать редирект непосредственно в файле ./routes/signup.js, то все нормально. (edited)


----- June 6th -----
Denys Lymarenko [3:53 PM]
всем привет, а можно кратко еще раз, почему мы выбрали koa, а не express?

Sergey Zelenov [4:05 PM]
@tyrweq Сергей, это вопрос просто на миллион!)

[4:06]
ответ кроется вот здесь: https://github.com/koajs/generic-session/blob/master/lib/session.js#L340
GitHub
koajs/generic-session
generic-session - koa session store with memory, redis or others.


[4:06]
давайте на занятии немного времени посвятим этому вопросу и самое главное, как найти на него ответ

[4:06]
потому что он совсем не очевиден

[4:09]
@limarenkodenis Денис, основной момент - потому что koa современнее (async/await из коробки), кроме того, в случае с koa надо все сторонние модули подключать самостоятельно, что улучшает понимание происходящего в коде

[4:09]
уже сейчас использовать в работе express, а не koa для вас не составит проблемы (ну кроме того факта, что придется “позабыть” про async/await)

Sergei Novikov [8:50 PM]
@sergeyzelenov Спасибо.
Есть еще пара небольших вопросов:
1) По socket.io. насколько я видел в примерах в сети при событии 'message' в чате сообщение уходит всем клиентам через socket.brodcast, а самому пользователю, его написавшему, выводится в чат на клиенте. Сильно ли лучше такой вариант, чем просто io.emit всем (в том числе и пославшему). В дз я для простоты сделал io.emit, а broadcast отправлял только для уведомлений, что пользователь печатает и приветствия.
2) Все забываю уточнить по файлам в папке libs: oid.js, loadModels, clearDatabase + \tasks\dbLoad.js. Правильно ли я понимаю, что все они нужны для gulp. Чтобы при запуске приложения через gulp очистить базу данных и добавить туда новых пользователей? (edited)

Denni Adam [8:58 PM]
Я ничего не перепутал? Сегодня должен быть вебинар?

Sergey Zelenov [8:59 PM]
да, все верно. не обращайте внимания на надписи, все будет по плану

Anton Podgornyj [8:59 PM]
uploaded this image: Pasted image at 2017_06_06 08_56 PM.png
Add Comment

Anton Podgornyj [8:59 PM]
у тебя там вот такое?

Sergey Zelenov [8:59 PM]
уже можно подключаться к видео (edited)

Сергей Лунев [8:59 PM]
Добрый вечер.

Denni Adam [8:59 PM]
Добрый вечер

[9:00]
Сергей, вопросы сюда кидать?

Sergei Novikov [9:00 PM]
что-то подключиться к видео не получается

Denni Adam [9:01 PM]
Меня интересует небольшой обзор амазона (в частности aws) и хероку

Sergey Zelenov [9:01 PM]
Сергей, а что именно не выходит, какие проблемы?

[9:01]
я вижу, что многие уже подключились

Andrey Miskov [9:01 PM]
Мне помогла вот эта ссылка:  https://global.gotowebinar.com/join/2178418789450714893/181490842

[9:01]
По ней зашло нормально.

Sergei Novikov [9:01 PM]
все вроде ок

[9:02]
Все зашел

Denni Adam [9:02 PM]
@sergeyzelenov Сергей, вопросы сюда кидать?

[9:02]
Меня интересует небольшой обзор амазона (в частности aws) и хероку

[9:04]
в чем отличие CI от CD?

Vladimir Deminenko [9:08 PM]
нет сессии?

Sergei Novikov [9:08 PM]
А вы ссылку сбросили

Konstantin Vytyagov [9:08 PM]
сессия не апдейтится?

Sergei Novikov [9:08 PM]
там вроде как из-за ошибки

[9:13]
вроде да

Konstantin Vytyagov [9:14 PM]
sessions[id] = ctx.session; ?

[9:14]
не sessions

Sergei Novikov [9:14 PM]
из-за ошибки все обрывается?

[9:14]
Да понял

[9:15]
Можно просто в signup сделать и все (edited)

[9:15]
Уменя был

[9:15]
Перед уроком прям

[9:19]
ок

Sergey Zelenov [9:20 PM]
http://learn.javascript.ru/screencast/gulp

Denni Adam [9:22 PM]
Почему асинк завернут в КО?

Anton Podgornyj [9:28 PM]
не было времени)

Sergei Novikov [9:29 PM]
Я чат сделал, но не очень хороший

[9:29]
Большая часть кода на клиенте

[9:29]
делается

Sergey Arefyev [9:33 PM]
Использовали, но переехали в прошлом месяце)

Anton Podgornyj [9:33 PM]
у нас на некоторых проектах тоже используется и сейчас

[9:33]
но это странно)))

Vladimir Deminenko [9:33 PM]
Интересная статья:
https://habrahabr.ru/post/106912/
Хабрахабр
Удачная модель ветвления для Git
Перевод статьи Vincent Driessen: A successful Git branching model В этой статье я представляю модель разработки, которую использую для всех моих проектов (как...


Sergey Arefyev [9:33 PM]
У нас не N чел на проект, а наоборот, потому так

Denni Adam [9:35 PM]
следит, наверное, за конкретной веткой?

Sergei Novikov [9:39 PM]
можно кратко повторить по шагам

[9:42]
да

Denni Adam [9:43 PM]
и CD

Vladimir Deminenko [9:51 PM]
совершенно новая тема для меня

Denni Adam [10:00 PM]
какая версия ноды?

[10:04]
как задать переменную окружения в хероке?

Sergey Zelenov [10:06 PM]
https://koa-chat-node.herokuapp.com/

Denys Lymarenko [10:06 PM]
а как с базой данный коннектится?

Vladimir Deminenko [10:07 PM]
можно через mlab, для mongodb

Denys Lymarenko [10:11 PM]
тоесть в коде мы заранее берем эту переменную окружения с mlab и коннектимся?

Vladimir Deminenko [10:14 PM]
перестартовать (edited)

Anton Podgornyj [10:14 PM]
магия хероку)

Sergei Novikov [10:14 PM]
а в консоли в браузере

[10:15]
а какой размер памяти на хероку для проекта максимальный?

Denni Adam [10:15 PM]
хироку битбакет понимает?

Vladimir Deminenko [10:17 PM]
как избежать остановки, при, например, обновлении базы данных на mlab?

[10:17]
можно ли симулировать активность?

[10:18]
))

[10:18]
+++

Sergey Zelenov [10:19 PM]
https://devcenter.heroku.com/articles/limits
devcenter.heroku.com
Limits | Heroku Dev Center
A convenient aggregation of limits imposed on various components of the Heroku platform, as documented elsewhere on Dev Center.


Sergei Novikov [10:22 PM]
да

Anton Podgornyj [10:22 PM]
да

Denni Adam [10:22 PM]
хорошо

[10:25]
на амазон он становится?

Sergei Novikov [10:28 PM]
а example мы же убрали?

[10:28]
ок

[10:30]
а как они с винстоном связываются к примеру?

[10:30]
ок

[10:31]
А вы можете нам такой файл скинуть в дропбокс ()ну или аналогичный большой с многочисленными настройками

[10:31]
?

[10:32]
ок

Sergey Zelenov [10:32 PM]
http://pm2.keymetrics.io/docs/usage/cluster-mode/
pm2.keymetrics.io
Cluster Mode · PM2
Advanced process manager for production Node.js applications. Load balancer, logs facility, startup script, micro service management, at a glance. (10kB)

Sergei Novikov [10:33 PM]
А сколько инстансов обычно запускают в продакшене?

Vladimir Deminenko [10:33 PM]
т.е. этот файл можно использовать в качестве config-файла?

Denni Adam [10:38 PM]
А покажите еще раз закрытые файлы

[10:38]
пож

[10:38]
там плюсы какие-то

[10:39]
да, понял, спасибо

Sergei Novikov [10:40 PM]
то есть b это название файла?

Andrey Miskov [10:41 PM]
b — миксин, делающий блок по БЭМ.

Sergei Novikov [10:41 PM]
ок

[10:42]
А можно краткое резюме по подходу. Извиняюсь

Vladimir Deminenko [10:45 PM]
да, это интересно

Denni Adam [10:46 PM]
да да

Sergey Arefyev [10:46 PM]
Очень

Denni Adam [10:46 PM]
докер +

Anton Podgornyj [10:46 PM]
да...очень

Vladimir Deminenko [10:46 PM]
спасибо

Сергей Лунев [10:46 PM]
спасибо.

Sergei Novikov [10:46 PM]
спасибо

Anton Podgornyj [10:46 PM]
пока

[10:46]
спасибо

Vladimir Deminenko [11:48 PM]
стоит ли использовать Continuous Integration (TeamCity, jenkins), если разработка ведётся вне команды?
выглядит очень сложно ((


----- June 8th -----
Sergey Zelenov [8:49 PM]
добрый день

[8:49]
Владимир, я бы не стал :slightly_smiling_face:
Зависит конечно от проекта


----- June 9th -----
Vladimir Deminenko [8:45 PM]
Сергей, спасибо.
Представление получил и, в случае необходимости, знаю что искать )) (edited)

Sergey Zelenov [8:52 PM]
отлично :slightly_smiling_face: рад слышать

[8:52]
кстати, уже можно подключаться к видео, скоро начнем уже)

Sergey Arefyev [9:03 PM]
Если вопросы объемные/с кодом тоже сюда писать?

[9:04]
В дропбоксе список вопрос составил

Sergey Zelenov [9:07 PM]
http://docker.com/
docker.com
Docker
Docker is an open platform for developers and sysadmins to build, ship, and run distributed applications, whether on laptops, data center VMs, or the cloud. (49kB)

Vladimir Deminenko [9:20 PM]
docker работает на localhost?

[9:22]
ok, почитаю

Sergei Novikov [9:24 PM]
А можно еще раз как к контейнеру добавляются Node или Mongo к примеру? Физически?

Denni Adam [9:26 PM]
а как с одном доке запустить и ноду и монгу?

Denys Lymarenko [9:27 PM]
а про nginx вы рассказвали на прошлых занятиях?, а то что то непомню

[9:28]
ок я пересмотрю

[9:28]
забыл что это

Sergei Novikov [9:30 PM]
Если проект маленький, то можно же просто обойтись средствами Node?

Vladimir Deminenko [9:31 PM]
а как всё "склеить" - nginx+node+koa? (edited)

Sergey Zelenov [9:31 PM]
https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-16-04
DigitalOcean
How To Set Up a Node.js Application for Production on Ubuntu 16.04 | DigitalOcean
Node.js is an open source JavaScript runtime environment for easily building server-side and networking applications. Node.js applications can be run at the command line but this guide focuses on running them as a service using PM2, so that they will (72kB)

Vladimir Deminenko [9:32 PM]
т.е. nginx это не просто  web-server?

Denys Lymarenko [9:32 PM]
на прошлоу кроке мы процец деплоймента проходили, где из той последовательности настраивается ngnix?

Sergei Novikov [9:34 PM]
А есть возможность пример линка процессов в докере показать? или ссылку?

Sergey Zelenov [9:36 PM]
https://docs.docker.com/compose/
Docker Documentation
Docker Compose
Compose is a tool for defining and running multi-container Docker applications. To learn more about Compose refer to the following documentation: Compose Overview Install Compose Getting Started Get started with...
Jun 9th at 9:02 PM


Sergey Arefyev [9:36 PM]
С какими средствами управления контейнерами работали, что посоветуете посмотреть?

Sergey Zelenov [9:39 PM]
https://kubernetes.io/
kubernetes.io
Kubernetes
Production-Grade Container Orchestration

Sergey Arefyev [9:39 PM]
Говорят тяжеловато его настраивать

Sergei Novikov [9:40 PM]
Можно уточнить еще раз по докер контейнерам. То есть контейнеры - это такие дистрибутивы, которые можно между собой связать и разместить их на сервере, запустив с их помощью приложение? Извиняюсь.

Vladimir Deminenko [9:41 PM]
можно сказать - среда? (edited)

Sergei Novikov [9:41 PM]
А ОС там тоже можно как контейнер добавить. Убунту?

Denni Adam [9:41 PM]
Допустим у меня есть 2 образа: нода и монго. Как их связать?

Andrey Miskov [9:43 PM]
Про Докер есть неплохой вебинар от JetBrains, Docker for developers: https://youtu.be/Ch1k8-vMG_E
И книга того же автора: https://leanpub.com/dockerfordevs
Там на примере PHP, но это не особо важно. Автор дает все то, что нужно знать разработчику для старта.
YouTube JetBrainsTV
Docker for PHP Developers



[9:45]
Вот книжка: https://www.dropbox.com/s/6j7w858qpk1ntk4/docker_for_devs.zip?dl=0
Мне очень понравилась.


Sergei Novikov [9:46 PM]
А Вы не выкладывали JWT Аунтификацию у себя в папке?
Просто интересно было бы Ваш вариант посмотреть тоже.

[9:47]
ок

[9:47]
А до какого времени у нас будет доступ к вашей папке?

[9:47]
ок

Sergey Zelenov [9:48 PM]
http://javascript.info/
javascript.info
The Modern Javascript Tutorial
Modern JavaScript Tutorial: simple, but detailed explanations with examples and tasks, including: closures, document and events, object oriented programming and more.


Denni Adam [9:50 PM]
Сергей Новиков, не проще ли использовать только JWT?

Sergey Arefyev [9:51 PM]
Нет, именно поддержка соединения

Sergei Novikov [9:52 PM]
@denni_adam Извиняюсь. Не совсем понял вопрос

Denni Adam [9:55 PM]
@tyrweq отказаться от кук и работать только с JWT и для SPA и для мобильного приложения

Sergey Arefyev [9:56 PM]
Если сервер держит скажем 1000 клиентов, а ошибка могла возникнуть из-за 1 подключения и только на нем

Sergei Novikov [9:58 PM]
@denni_adam Да. Можно только JWT. Я просто попросил Сергея Зеленова, чтобы он свой вариант с JWT выложил, чтобы было у меня на что равняться

Sergey Arefyev [9:58 PM]
pm2 или управление контейнерами?

Denni Adam [9:58 PM]
@tyrweq Значит я Вас не правильно понял ))

Sergei Novikov [9:58 PM]
@denni_adam Ок

Sergey Arefyev [10:04 PM]
Спасибо)

Sergei Novikov [10:04 PM]
А возможно ли файл handler из javascript.ru скинуть нам как образец? Ну или может какой еще есть?

Denni Adam [10:05 PM]
Расскажите, пожалуйста, про инфраструктуру AWS

Sergey Zelenov [10:05 PM]
https://github.com/iliakan/javascript-tutorial-server
GitHub
iliakan/javascript-tutorial-server
javascript-tutorial-server - Tutorial server for http://learn.javascript.ru


Sergei Novikov [10:05 PM]
ок

Vladimir Deminenko [10:06 PM]
Сергей, не помню, возможно, Вы обещали подробнее рассказать про установку приложения на aws. (edited)

[10:09]
примерно, как с heroku - я так понял

[10:09]
я имел ввиду показать также, как с heroku ))

[10:10]
также подробно

Sergey Arefyev [10:10 PM]
Какое хранилище файлов можете посоветовать. Имеет ли смысл брать сервер и самому реализовать?

Vladimir Deminenko [10:10 PM]
похоже, я ошибаюсь

Sergey Arefyev [10:12 PM]
А на awc CDN входит в S3?

[10:14]
На ts пишете на работе?

Alexandr Pozdnyakof [10:14 PM]
интересовались ли GraphQL? если да то что думаете об этом?

Sergey Arefyev [10:19 PM]
Что используете на фронте? vue/react/angular/...

Andrey Miskov [10:21 PM]
Достаточно общий и холиварный вопрос. Понимаю, что тут дело вкуса, ресурсов и субъективных предпочтений... Хочется услышать ваше мнение, т. к. у вас опыт работы с разными стэками технологий.

В каких областях, на каких проектах NodeJS реально круче своих конкурентов? Аналогичные задачи можно решить на Go, Python, Java. Нода не самая стабильная, синтаксис не самый удобный, постоянно что-то меняется...

TJ вот понаписал кучу всего на NodeJS и в итоге ушел на Go и радуется. Почему стоит использовать NodeJS, а не что-то другое?

Denys Lymarenko [10:22 PM]
тоесть с graphql у нас все роуты с users превращаются в один запрос, тоесть router/users файл полностью бы переписывали , если б юзали graphql?

Sergey Arefyev [10:23 PM]
На мобильных предпочитаете нативную разработку или web(cordova)?

Sergey Zelenov [10:24 PM]
http://graphql.org/graphql-js/
graphql.org
GraphQL: A query language for APIs.
GraphQL provides a complete description of the data in your API, gives clients the power to ask for exactly what they need and nothing more, makes it easier to evolve APIs over time, and enables powerful developer tools.


Alexandr Pozdnyakof [10:25 PM]
меняется ли подход при использовании node + ng/react/vue? авторизация/защита api от несанкционированных запросов?

Andrey Miskov [10:26 PM]
Скоро на learn.javascirpt.ru будет продвинутый курс по Реакту. Там будет про GraphQL и ReactNative. Но там надо хорошо знать React.

Denys Lymarenko [10:26 PM]
мы же джаваскриптеры , поэтому нам лучше на джесе пож мобайл писать)

Denni Adam [10:27 PM]
Сергей, а что в других группах спрашивают?

Alexandr Pozdnyakof [10:28 PM]
как думаете, станут ли популярны коробочные решения на node? что-нибудь типа cms

[10:29]
есть keystone - http://keystonejs.com/
keystonejs.com
KeystoneJS
KeystoneJS is an open source Node.js CMS and web application platform built on Express and MongoDB.

Sergey Arefyev [10:32 PM]
protobuf хорош

Sergey Zelenov [10:33 PM]
https://developers.google.com/protocol-buffers/
Google Developers
Protocol Buffers  |  Google Developers
Protocol buffers are a language-neutral, platform-neutral extensible mechanism for serializing structured data.

Sergey Arefyev [10:33 PM]
Переходите ли на http/2? Поддерживаете ли http (не https)

[10:34]
Если не aws, где можно сертификат получить?

Sergey Zelenov [10:35 PM]
https://letsencrypt.org/
letsencrypt.org
Let's Encrypt - Free SSL/TLS Certificates
Let’s Encrypt is a free, automated, and open certificate authority brought to you by the non-profit Internet Security Research Group (ISRG).

Sergey Arefyev [10:35 PM]
Так а что про http/2?

Andrey Miskov [10:38 PM]
Спасибо, было очень здорово!

Alexandr Pozdnyakof [10:39 PM]
да, спасибо большое, очень глубокое погружение!

Anton Podgornyj [10:39 PM]
Спасибо, было очень круто!!!


Vladimir Deminenko [10:39 PM]
Сергей, спасибо большое!
Удачи Вам.

Denys Lymarenko [10:39 PM]
Спасибо!

Denni Adam [10:39 PM]
Сергей, ждем JWT

Sergey Arefyev [10:39 PM]
Спасибо, было очень интересно

Denni Adam [10:40 PM]
Спасибо, до свидания!

Sergei Novikov [10:40 PM]
Спасибо большое!

Vladimir Deminenko [10:40 PM]
Всем - всего доброго!


----- June 10th -----
Denni Adam [8:19 PM]
@sergeyzelenov Сергей, Вы JWT выложили?


----- June 11th -----
Denni Adam [7:51 PM]
@sergeyzelenov Сергей, а в какой папочке JWT искать?

Sergey Zelenov [7:58 PM]
привет!
@denni_adam в 07/passport-jwt

new messages

----- June 12th -----
Sergey Zelenov [11:42 AM]
всем привет!
вчера отправил вам письмо с информацией о сертификате, о материалах, а также ссылку на отзывы о курсе. если вам не сложно - оставьте, пожалуйста, ваш комментарий с впечатлениями от курса. заранее спасибо!

Sergei Novikov [6:51 PM]
@sergeyzelenov  Вопросы по отзыву:
1) А отзыв можно оставить не публичный? Или желательно все таки публичный?
2) Кроме того имеет ли смысл добавить предложение к курсу:
для записанного видео было бы удобно иметь возможность увеличить скорость воспроизведения (до 1,25 и 1,5).
Или же смысла от этого предложения особо не будет (соображения безопасности и т.п.)?
Кстати а может быть возможность ускорения воспроизведения видео уже существует? Просто я не нашел, а копаться долго в этом вопросе не стал. +Там стоит защита. (edited)


----- June 21st -----
Maxim Konkin [11:22 AM]
Всем привет, народ а никто не работал с UnhandledPromiseRejectionWarning? Нода после ошибки зависает, а как отловить где, не понятно.


----- June 22nd -----
Sergei Novikov [11:04 AM]
@konkinmn Добрый день!
Может быть Ваш вопрос уже не актуален, но вроде как UnhandledPromiseRejectionWarning возникает, если ошибка брошена внутри промиса (ну или в async – что тоже промис), в котором нет никакой обработки ошибок, к примеру:
•    .catch у промиса и async
•    try/catch в asynс)
Вот примеры кода ее возникновения (если раскомментировать .catch и try/catch, то UnhandledPromiseRejectionWarning не возникнет):
``` (async () => {
    //Async - это Promise. Внутри может быть любое кол-во операций, одна из которых может бросить ошибку.
    // try {
        await new Promise ((resolve, reject) => {
            throw new Error("ERROR IN ASYNC");
        })
    /*} catch (err) {
        console.error(err)
    }*/ //если поймать ошибку, то не возникнет UnhandledPromiseRejectionWarning
})() //вызываем ф-ию на месте;


new Promise ((resolve, reject) => {
    throw new Error("ERROR IN PROMISE1")
})
    // .catch((err) => console.error(err)); //если поймать ошибку, то не возникнет UnhandledPromiseRejectionWarning

new Promise ((resolve, reject) => {
    resolve();
})
    .then(() => {
        throw new Error("ERROR IN PROMISE2")
    })
    // .catch((err) => console.error(err)); //если поймать ошибку, то не возникнет UnhandledPromiseRejectionWarning ```
Если кратко, то вроде как если ошибка возникает внутри промиса (который асинхронный), то она не вываливается в консоль, а вместо этого появляется предупреждение UnhandledPromiseRejectionWarning. Ошибка просто как бы остается внутри промиса и ждет, когда к нему будет добавлен обработчик ошибок. Обработчик может быть добавлен даже через какое-то время уже после возникновения ошибки.

Maxim Konkin [11:05 AM]
то есть по факту, где то в просимах просто не обрабатывается ошибка?

Sergei Novikov [11:05 AM]
Вроде так

Maxim Konkin [11:06 AM]
Спасибо) буду значит код прочесывать)

Sergei Novikov [11:06 AM]
Просто нужно чтобы во всех промисах была какая-то обработка
